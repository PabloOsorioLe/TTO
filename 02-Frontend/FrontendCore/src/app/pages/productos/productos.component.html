<div class="productos-wrapper container-fluid px-2 px-md-5">
  <div class="card-formulario shadow-sm rounded-4 p-3 bg-white">
    <h6 class="mb-3 text-primary text-center">Registro de Productos</h6>

    <form [formGroup]="productoForm" (ngSubmit)="agregarProducto()">
      <div class="row g-3 align-items-end">

        <!-- Nombre -->
        <div class="col-12 col-md-6">
          <label class="form-label">Nombre del producto</label>
          <input type="text" class="form-control form-control-sm" formControlName="nombre" required>
        </div>

        <!-- Campos compactos -->
        <div class="col-6 col-sm-4 col-md-3 col-lg-2" *ngFor="let campo of camposCompactos">
          <label class="form-label">{{ campo.label }}</label>
          <input [type]="campo.tipo" class="form-control form-control-sm" [formControlName]="campo.control">
        </div>

        <!-- Proveedor -->
        <div class="col-6 col-sm-4 col-md-3 col-lg-2">
          <label class="form-label">Proveedor</label>
          <select class="form-select form-select-sm" formControlName="proveedor">
            <option value="" disabled selected>Selecciona proveedor</option>
            <option *ngFor="let p of proveedores" [value]="p">{{ p }}</option>
          </select>
        </div>

        <!-- Fecha ingreso -->
        <div class="col-6 col-sm-4 col-md-3 col-lg-2">
          <label class="form-label">Fecha ingreso</label>
          <input type="date" class="form-control form-control-sm" formControlName="fechaIngreso">
        </div>

        <!-- Imagen -->
        <div class="col-6 col-sm-4 col-md-3 col-lg-2">
          <label class="form-label">Imagen</label>
          <input type="file" class="form-control form-control-sm" (change)="onFileChange($event)">
        </div>

        <!-- Descripción al final -->
        <div class="col-12">
          <label class="form-label">Descripción</label>
          <textarea class="form-control form-control-sm no-resize" rows="2" formControlName="descripcion"
            placeholder="Opcional"></textarea>
        </div>

        <!-- Botón centrado -->
        <div class="col-12 text-center">
          <button class="btn btn-success btn-sm mt-2 px-4" type="submit" [disabled]="productoForm.invalid">
            Agregar Producto
          </button>
        </div>

      </div>
    </form>
  </div>

  <div class="tabla-productos mt-4 p-3 rounded-4 shadow-sm bg-white">
    <h6 class="mb-3 text-center">Lista de productos</h6>
    <div class="table-responsive tabla-scroll">
      <table class="table table-bordered table-hover align-middle text-center table-sm">
       <thead class="table-primary">
  <tr>
    <th>ID</th> <!-- NUEVO -->
    <th>Nombre</th>
    <th>Categoría</th>
    <th>Código</th>
    <th>Precio</th>
    <th>Stock</th>
    <th>Proveedor</th>
    <th>Ubicación</th>
    <th>Ingreso</th>
  </tr>
</thead>
<tbody>
  <tr *ngFor="let p of productos">
    <td>{{ p.id }}</td> <!-- NUEVO -->
    <td>{{ p.nombre }}</td>
    <td>{{ p.categoria }}</td>
    <td>{{ p.codigo }}</td>
    <td>{{ p.precio | currency:'CLP' }}</td>
    <td>{{ p.stock }}</td>
    <td>{{ p.proveedor }}</td>
    <td>{{ p.ubicacion }}</td>
    <td>{{ p.fechaIngreso | date }}</td>
  </tr>
</tbody>

      </table>
    </div>
  </div>
</div>